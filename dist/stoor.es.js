var e={},t={getItem:function(t){return e[t]||null},setItem:function(t,r){return e[t]=r,!0},removeItem:function(t){return t in e&&delete e[t]},clear:function(){return e={},!0}},r=function(e){if("object"==typeof e)try{return e.setItem("localStorage",1),e.removeItem("localStorage"),!0}catch(e){return!1}return!1},a=function e(a){if(void 0===a&&(a={namespace:"",fallback:t}),!(this instanceof e))return new e(a);if(!a.fallback.getItem||!a.fallback.setItem||!a.fallback.removeItem)throw new Error("Invalid fallback provided");this.storage="session"===a.storage?r(window.sessionStorage)?window.sessionStorage:a.fallback:r(window.localStorage)?window.localStorage:a.fallback,this.namespace=a.namespace};a.prototype.get=function(e){var t=this;return Array.isArray(e)?e.map(function(e){return JSON.parse(t.storage.getItem(t.namespace+":"+e))}):JSON.parse(this.storage.getItem(this.namespace+":"+e))},a.prototype.set=function(e,t){var r=this;return Array.isArray(e)?e.map(function(e){return r.storage.setItem(r.namespace+":"+e[0],JSON.stringify(e[1]))}):this.storage.setItem(this.namespace+":"+e,JSON.stringify(t))},a.prototype.remove=function(e){var t=this;return Array.isArray(e)?e.map(function(e){return t.storage.removeItem(t.namespace+":"+e)}):this.storage.removeItem(this.namespace+":"+e)},a.prototype.clear=function(){return this.storage.clear()};export default a;
//# sourceMappingURL=stoor.es.js.map
